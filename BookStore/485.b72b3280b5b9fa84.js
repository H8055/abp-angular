"use strict";(self.webpackChunkBookStore=self.webpackChunkBookStore||[]).push([[485],{9485:(Hn,yt,f)=>{f.d(yt,{YJ:()=>Dn,QN:()=>it,ex:()=>v,uk:()=>k,QC:()=>P,gt:()=>wn,m5:()=>Pn,X6:()=>N,Od:()=>F,lg:()=>Ke,_V:()=>An,JE:()=>I,Ms:()=>Mn,se:()=>kn,ot:()=>jn,V_:()=>$n,Fr:()=>On,Hp:()=>Yn});var t=f(4650),d=f(6895),g=f(6004),p=f(433),T=f(6663);class J{constructor(n){this.value=n}}class D{constructor(){this.size=0}get head(){return this.first}get tail(){return this.last}get length(){return this.size}attach(n,e,i){if(!e)return this.addHead(n);if(!i)return this.addTail(n);const r=new J(n);return r.previous=e,e.next=r,r.next=i,i.previous=r,this.size++,r}attachMany(n,e,i){if(!n.length)return[];if(!e)return this.addManyHead(n);if(!i)return this.addManyTail(n);const r=new D;return r.addManyTail(n),r.first.previous=e,e.next=r.first,r.last.next=i,i.previous=r.last,this.size+=n.length,r.toNodeArray()}detach(n){return n.previous?n.next?(n.previous.next=n.next,n.next.previous=n.previous,this.size--,n):this.dropTail():this.dropHead()}add(n){return{after:(...e)=>this.addAfter.call(this,n,...e),before:(...e)=>this.addBefore.call(this,n,...e),byIndex:e=>this.addByIndex(n,e),head:()=>this.addHead(n),tail:()=>this.addTail(n)}}addMany(n){return{after:(...e)=>this.addManyAfter.call(this,n,...e),before:(...e)=>this.addManyBefore.call(this,n,...e),byIndex:e=>this.addManyByIndex(n,e),head:()=>this.addManyHead(n),tail:()=>this.addManyTail(n)}}addAfter(n,e,i=T.Z){const r=this.find(a=>i(a.value,e));return r?this.attach(n,r,r.next):this.addTail(n)}addBefore(n,e,i=T.Z){const r=this.find(a=>i(a.value,e));return r?this.attach(n,r.previous,r):this.addHead(n)}addByIndex(n,e){if(e<0)e+=this.size;else if(e>=this.size)return this.addTail(n);if(e<=0)return this.addHead(n);const i=this.get(e);return this.attach(n,i.previous,i)}addHead(n){const e=new J(n);return e.next=this.first,this.first?this.first.previous=e:this.last=e,this.first=e,this.size++,e}addTail(n){const e=new J(n);return this.first?(e.previous=this.last,this.last.next=e,this.last=e):(this.first=e,this.last=e),this.size++,e}addManyAfter(n,e,i=T.Z){const r=this.find(a=>i(a.value,e));return r?this.attachMany(n,r,r.next):this.addManyTail(n)}addManyBefore(n,e,i=T.Z){const r=this.find(a=>i(a.value,e));return r?this.attachMany(n,r.previous,r):this.addManyHead(n)}addManyByIndex(n,e){if(e<0&&(e+=this.size),e<=0)return this.addManyHead(n);if(e>=this.size)return this.addManyTail(n);const i=this.get(e);return this.attachMany(n,i.previous,i)}addManyHead(n){return n.reduceRight((e,i)=>(e.unshift(this.addHead(i)),e),[])}addManyTail(n){return n.map(e=>this.addTail(e))}drop(){return{byIndex:n=>this.dropByIndex(n),byValue:(...n)=>this.dropByValue.apply(this,n),byValueAll:(...n)=>this.dropByValueAll.apply(this,n),head:()=>this.dropHead(),tail:()=>this.dropTail()}}dropMany(n){return{byIndex:e=>this.dropManyByIndex(n,e),head:()=>this.dropManyHead(n),tail:()=>this.dropManyTail(n)}}dropByIndex(n){n<0&&(n+=this.size);const e=this.get(n);return e?this.detach(e):void 0}dropByValue(n,e=T.Z){const i=this.findIndex(r=>e(r.value,n));return i<0?void 0:this.dropByIndex(i)}dropByValueAll(n,e=T.Z){const i=[];for(let r=this.first,a=0;r;a++,r=r.next)e(r.value,n)&&i.push(this.dropByIndex(a-i.length));return i}dropHead(){const n=this.first;if(n)return this.first=n.next,this.first?this.first.previous=void 0:this.last=void 0,this.size--,n}dropTail(){const n=this.last;if(n)return this.last=n.previous,this.last?this.last.next=void 0:this.first=void 0,this.size--,n}dropManyByIndex(n,e){if(n<=0)return[];if(e<0)e=Math.max(e+this.size,0);else if(e>=this.size)return[];n=Math.min(n,this.size-e);const i=[];for(;n--;){const r=this.get(e);i.push(this.detach(r))}return i}dropManyHead(n){if(n<=0)return[];n=Math.min(n,this.size);const e=[];for(;n--;)e.unshift(this.dropHead());return e}dropManyTail(n){if(n<=0)return[];n=Math.min(n,this.size);const e=[];for(;n--;)e.push(this.dropTail());return e}find(n){for(let e=this.first,i=0;e;i++,e=e.next)if(n(e,i,this))return e}findIndex(n){for(let e=this.first,i=0;e;i++,e=e.next)if(n(e,i,this))return i;return-1}forEach(n){for(let e=this.first,i=0;e;i++,e=e.next)n(e,i,this)}get(n){return this.find((e,i)=>n===i)}indexOf(n,e=T.Z){return this.findIndex(i=>e(i.value,n))}toArray(){const n=new Array(this.size);return this.forEach((e,i)=>n[i]=e.value),n}toNodeArray(){const n=new Array(this.size);return this.forEach((e,i)=>n[i]=e),n}toString(n=JSON.stringify){return this.toArray().map(e=>n(e)).join(" <-> ")}*[Symbol.iterator](){for(let n=this.first,e=0;n;e++,n=n.next)yield n.value}}var C=f(3951),_=f(7109),E=f(9646),Ct=f(6451),Et=f(9635),wt=f(2557),y=f(4004),Ft=f(8372),vt=f(1884),V=f(3900),Pt=f(9300),U=f(5698),Q=f(9585),M=f(2970);const Nt=["field"];function At(o,n){1&o&&t.GkF(0)}function Dt(o,n){if(1&o&&t.YNc(0,At,1,0,"ng-container",15),2&o){const e=t.oxw(2);t.Q6J("ngComponentOutlet",e.prop.template)("ngComponentOutletInjector",e.injectorForCustomComponent)}}function Mt(o,n){}function Ot(o,n){if(1&o&&(t.YNc(0,Mt,0,0,"ng-template",16),t._UZ(1,"input",17,18)),2&o){const e=t.oxw(2),i=t.MAs(2);t.Q6J("ngTemplateOutlet",i),t.xp6(1),t.Q6J("id",e.prop.id)("formControlName",e.prop.name)("autocomplete",e.prop.autocomplete)("type",e.getType(e.prop))("abpDisabled",e.disabled)("readonly",e.readonly)}}function kt(o,n){if(1&o&&t._UZ(0,"input",19),2&o){const e=t.oxw(2);t.Q6J("formControlName",e.prop.name)}}function It(o,n){}const Yt=function(){return{$implicit:"form-check-label"}};function Jt(o,n){if(1&o&&(t.TgZ(0,"div",20),t._UZ(1,"input",21,18),t.YNc(3,It,0,0,"ng-template",22),t.qZA()),2&o){const e=t.oxw(2),i=t.MAs(2);t.xp6(1),t.Q6J("id",e.prop.id)("formControlName",e.prop.name)("abpDisabled",e.disabled),t.xp6(2),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.DdM(5,Yt))}}function Qt(o,n){}function Lt(o,n){if(1&o&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("ngValue",e.value),t.xp6(1),t.hij(" ",e.key," ")}}function St(o,n){if(1&o&&(t.YNc(0,Qt,0,0,"ng-template",16),t.TgZ(1,"select",23,18),t.YNc(3,Lt,2,2,"option",24),t.ALo(4,"async"),t.qZA()),2&o){const e=t.oxw(2),i=t.MAs(2);t.Q6J("ngTemplateOutlet",i),t.xp6(1),t.Q6J("id",e.prop.id)("formControlName",e.prop.name)("abpDisabled",e.disabled),t.xp6(2),t.Q6J("ngForOf",t.lcZ(4,6,e.options$))("ngForTrackBy",e.track.by("value"))}}function Zt(o,n){}function Bt(o,n){if(1&o&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("ngValue",e.value),t.xp6(1),t.hij(" ",e.key," ")}}function Rt(o,n){if(1&o&&(t.YNc(0,Zt,0,0,"ng-template",16),t.TgZ(1,"select",26,18),t.YNc(3,Bt,2,2,"option",24),t.ALo(4,"async"),t.qZA()),2&o){const e=t.oxw(2),i=t.MAs(2);t.Q6J("ngTemplateOutlet",i),t.xp6(1),t.Q6J("id",e.prop.id)("formControlName",e.prop.name)("abpDisabled",e.disabled),t.xp6(2),t.Q6J("ngForOf",t.lcZ(4,6,e.options$))("ngForTrackBy",e.track.by("value"))}}function Gt(o,n){}const jt=function(){return{standalone:!0}};function $t(o,n){if(1&o){const e=t.EpF();t.YNc(0,Gt,0,0,"ng-template",16),t.TgZ(1,"div",27,28)(3,"input",29,18),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a.typeaheadModel=r)})("selectItem",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a.setTypeaheadValue(r.item))})("blur",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.setTypeaheadValue(r.typeaheadModel))}),t.qZA(),t._UZ(5,"input",19),t.qZA()}if(2&o){const e=t.MAs(2),i=t.oxw(2),r=t.MAs(2);t.Q6J("ngTemplateOutlet",r),t.xp6(3),t.ekj("is-invalid",e.classList.contains("is-invalid")),t.Q6J("id",i.prop.id)("autocomplete",i.prop.autocomplete)("abpDisabled",i.disabled)("ngbTypeahead",i.search)("editable",!1)("inputFormatter",i.typeaheadFormatter)("resultFormatter",i.typeaheadFormatter)("ngModelOptions",t.DdM(13,jt))("ngModel",i.typeaheadModel),t.xp6(2),t.Q6J("formControlName",i.prop.name)}}function zt(o,n){}function Vt(o,n){if(1&o){const e=t.EpF();t.YNc(0,zt,0,0,"ng-template",16),t.TgZ(1,"input",30,31),t.NdJ("click",function(){t.CHM(e);const r=t.MAs(2);return t.KtG(r.open())})("keyup.space",function(){t.CHM(e);const r=t.MAs(2);return t.KtG(r.open())}),t.qZA()}if(2&o){const e=t.oxw(2),i=t.MAs(2);t.Q6J("ngTemplateOutlet",i),t.xp6(1),t.Q6J("id",e.prop.id)("formControlName",e.prop.name)}}function Ut(o,n){}function Ht(o,n){if(1&o&&(t.YNc(0,Ut,0,0,"ng-template",16),t._UZ(1,"ngb-timepicker",32)),2&o){const e=t.oxw(2),i=t.MAs(2);t.Q6J("ngTemplateOutlet",i),t.xp6(1),t.Q6J("formControlName",e.prop.name)}}function Wt(o,n){}function Kt(o,n){if(1&o&&(t.YNc(0,Wt,0,0,"ng-template",16),t._UZ(1,"abp-date-time-picker",33)),2&o){const e=t.oxw(2),i=t.MAs(2);t.Q6J("ngTemplateOutlet",i),t.xp6(1),t.Q6J("prop",e.prop)("meridian",e.meridian)}}function Xt(o,n){}function qt(o,n){if(1&o&&(t.YNc(0,Xt,0,0,"ng-template",16),t._UZ(1,"textarea",34,18)),2&o){const e=t.oxw(2),i=t.MAs(2);t.Q6J("ngTemplateOutlet",i),t.xp6(1),t.Q6J("id",e.prop.id)("formControlName",e.prop.name)("abpDisabled",e.disabled)("readonly",e.readonly)}}function te(o,n){if(1&o&&(t.ynx(0,2),t.YNc(1,Dt,1,2,"ng-template",3),t.TgZ(2,"div",4),t.YNc(3,Ot,3,7,"ng-template",5),t.YNc(4,kt,1,1,"ng-template",6),t.YNc(5,Jt,4,6,"ng-template",7),t.YNc(6,St,5,8,"ng-template",8),t.YNc(7,Rt,5,8,"ng-template",9),t.YNc(8,$t,6,14,"ng-template",10),t.YNc(9,Vt,3,3,"ng-template",11),t.YNc(10,Ht,2,2,"ng-template",12),t.YNc(11,Kt,2,3,"ng-template",13),t.YNc(12,qt,3,5,"ng-template",14),t.qZA(),t.BQk()),2&o){const e=t.oxw();t.Q6J("ngSwitch",e.getComponent(e.prop)),t.xp6(2),t.Q6J("ngClass",e.containerClassName)}}function ee(o,n){if(1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"abpLocalization"),t.BQk()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,e.prop.displayTextResolver(e.data))," ")}}function ne(o,n){if(1&o&&(t._uU(0),t.ALo(1,"abpLocalization")),2&o){const e=t.oxw(2);t.hij(" ",t.lcZ(1,1,e.prop.displayName),"")}}function oe(o,n){if(1&o&&(t.TgZ(0,"label",35),t.YNc(1,ee,3,3,"ng-container",36),t.YNc(2,ne,2,3,"ng-template",null,37,t.W1O),t._uU(4),t.qZA()),2&o){const e=n.$implicit,i=t.MAs(3),r=t.oxw();t.Q6J("htmlFor",r.prop.id)("ngClass",e||"form-label"),t.xp6(1),t.Q6J("ngIf",r.prop.displayTextResolver)("ngIfElse",i),t.xp6(3),t.hij(" ",r.asterisk," ")}}const H=function(o,n){return{groupedProp:o,data:n}};function ie(o,n){if(1&o&&(t.TgZ(0,"div"),t.GkF(1,6),t.qZA()),2&o){const e=t.oxw().$implicit,i=t.oxw().$implicit;t.oxw(2);const r=t.MAs(2);t.Tol(null==i.group?null:i.group.className),t.uIk("data-name",null==i.group?null:i.group.className),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.WLB(5,H,i,e))}}function re(o,n){if(1&o&&t.GkF(0,6),2&o){const e=t.oxw().$implicit,i=t.oxw().$implicit;t.oxw(2);const r=t.MAs(2);t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.WLB(2,H,i,e))}}function ae(o,n){if(1&o&&(t.ynx(0),t.YNc(1,ie,2,8,"div",4),t.YNc(2,re,1,5,"ng-template",null,5,t.W1O),t.BQk()),2&o){const e=t.MAs(3),i=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null==i.group?null:i.group.className)("ngIfElse",e)}}function se(o,n){if(1&o&&(t.ynx(0),t.YNc(1,ae,4,2,"ng-container",3),t.BQk()),2&o){const e=n.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("abpPropDataFromList",e.formPropList)("abpPropDataWithRecord",i.record)}}function ce(o,n){if(1&o&&(t.ynx(0),t.YNc(1,se,2,2,"ng-container",2),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.groupedPropList.items)}}function le(o,n){if(1&o&&(t.ynx(0,10),t._UZ(1,"abp-extensible-form-prop",11),t.BQk()),2&o){const e=t.oxw(2).$implicit,i=t.oxw().data,r=t.oxw();t.Q6J("formGroupName",r.extraPropertiesKey),t.xp6(1),t.Tol(e.className),t.Q6J("prop",e)("data",i)}}function pe(o,n){if(1&o&&t._UZ(0,"abp-extensible-form-prop",13),2&o){const e=t.oxw(3),i=e.$implicit,r=e.first,a=t.oxw().data;t.Tol(i.className),t.Q6J("prop",i)("data",a)("first",r)}}function me(o,n){if(1&o&&t.YNc(0,pe,1,5,"abp-extensible-form-prop",12),2&o){const e=t.oxw(2).$implicit,i=t.oxw(2);t.Q6J("ngIf",i.form.get(e.name))}}function de(o,n){if(1&o&&(t.ynx(0),t.YNc(1,le,2,5,"ng-container",8),t.YNc(2,me,1,1,"ng-template",null,9,t.W1O),t.BQk()),2&o){const e=t.MAs(3),i=t.oxw().$implicit,r=t.oxw(2);t.xp6(1),t.Q6J("ngIf",r.extraProperties.controls[i.name])("ngIfElse",e)}}function _e(o,n){if(1&o&&(t.ynx(0),t.YNc(1,de,4,2,"ng-container",0),t.BQk()),2&o){const e=n.$implicit,i=t.oxw().data;t.xp6(1),t.Q6J("ngIf",e.visible(i))}}function ue(o,n){if(1&o&&t.YNc(0,_e,2,1,"ng-container",7),2&o){const e=n.groupedProp,i=t.oxw();t.Q6J("ngForOf",e.formPropList)("ngForTrackBy",i.track.by("name"))}}const O=function(o){return{$implicit:o}};function ge(o,n){if(1&o&&t.GkF(0,10),2&o){const e=n.$implicit;t.oxw(2);const i=t.MAs(3);t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.VKq(2,O,e))}}function fe(o,n){if(1&o&&(t.TgZ(0,"div",5)(1,"button",6),t._UZ(2,"i",7),t._uU(3),t.ALo(4,"abpLocalization"),t.qZA(),t.TgZ(5,"div",8),t.YNc(6,ge,1,4,"ng-container",9),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.ekj("me-1",e.icon),t.Q6J("ngClass",e.icon),t.xp6(1),t.hij("",t.lcZ(4,6,e.text)," "),t.xp6(3),t.Q6J("ngForOf",e.actionList)("ngForTrackBy",e.trackByFn)}}function he(o,n){if(1&o&&t.GkF(0,10),2&o){const e=t.oxw(),i=t.MAs(7);t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.VKq(2,O,e.actionList.get(0).value))}}function xe(o,n){1&o&&t.GkF(0)}function be(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).$implicit,a=t.oxw();return t.KtG(r.action(a.data))}),t.YNc(1,xe,1,0,"ng-container",14),t.qZA()}if(2&o){const e=t.oxw(2).$implicit;t.oxw();const i=t.MAs(5);t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.VKq(2,O,e))}}function Te(o,n){if(1&o&&(t.ynx(0),t.YNc(1,be,2,4,"button",12),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("abpPermission",e.permission)("abpPermissionRunChangeDetection",!1)}}function ye(o,n){if(1&o&&t.YNc(0,Te,2,2,"ng-container",11),2&o){const e=n.$implicit,i=t.oxw();t.Q6J("ngIf",e.visible(i.data))}}function Ce(o,n){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"abpLocalization"),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.text))}}function Ee(o,n){if(1&o&&(t.TgZ(0,"div",17),t._uU(1),t.ALo(2,"abpLocalization"),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.text))}}function we(o,n){if(1&o&&(t._UZ(0,"i",7),t.YNc(1,Ce,3,3,"span",15),t.YNc(2,Ee,3,3,"ng-template",null,16,t.W1O)),2&o){const e=n.$implicit,i=t.MAs(3);t.ekj("me-1",e.icon),t.Q6J("ngClass",e.icon),t.xp6(1),t.Q6J("ngIf",e.icon)("ngIfElse",i)}}function Fe(o,n){1&o&&t.GkF(0)}function ve(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).$implicit,a=t.oxw();return t.KtG(r.action(a.data))}),t.YNc(1,Fe,1,0,"ng-container",14),t.qZA()}if(2&o){const e=t.oxw(2).$implicit;t.oxw();const i=t.MAs(5);t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.VKq(2,O,e))}}function Pe(o,n){if(1&o&&(t.ynx(0),t.YNc(1,ve,2,4,"button",18),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("abpPermission",e.permission)("abpPermissionRunChangeDetection",!1)}}function Ne(o,n){if(1&o&&t.YNc(0,Pe,2,2,"ng-container",11),2&o){const e=n.$implicit,i=t.oxw();t.Q6J("ngIf",e.visible(i.data))}}function Ae(o,n){1&o&&t.GkF(0)}function De(o,n){if(1&o&&t._UZ(0,"abp-grid-actions",7),2&o){const e=t.oxw(),r=e.row;t.Q6J("index",e.rowIndex)("record",r)}}const Me=function(o,n){return{$implicit:o,index:n}};function Oe(o,n){if(1&o&&(t.YNc(0,Ae,1,0,"ng-container",5),t.YNc(1,De,1,2,"ng-template",null,6,t.W1O)),2&o){const e=n.row,i=n.rowIndex,r=t.MAs(2),a=t.oxw(2);t.Q6J("ngTemplateOutlet",a.actionsTemplate||r)("ngTemplateOutletContext",t.WLB(2,Me,e,i))}}function ke(o,n){if(1&o&&(t.TgZ(0,"ngx-datatable-column",3),t.ALo(1,"abpLocalization"),t.YNc(2,Oe,3,5,"ng-template",4),t.qZA()),2&o){const e=t.oxw();t.Q6J("name",t.lcZ(1,4,e.actionsText))("maxWidth",e.columnWidths[0])("width",e.columnWidths[0])("sortable",!1)}}function Ie(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(3),a=r.row,s=r.index,l=t.oxw().$implicit,m=t.oxw();return t.KtG(l.action&&l.action({getInjected:m.getInjected,record:a,index:s}))}),t.ALo(1,"async"),t.qZA()}if(2&o){const e=t.oxw(3).row,i=t.oxw().$implicit,r=t.oxw();t.ekj("pointer",i.action),t.Q6J("innerHTML",t.lcZ(1,4,null==e["_"+i.name]?null:e["_"+i.name].value),t.oJD)("ngClass",r.entityPropTypeClasses[i.type])}}function Ye(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Ie,2,6,"div",12),t.BQk()),2&o){t.oxw();const e=t.MAs(3),i=t.oxw().row,r=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",!i["_"+r.name].component)("ngIfElse",e)}}function Je(o,n){1&o&&t.GkF(0)}function Qe(o,n){if(1&o&&t.YNc(0,Je,1,0,"ng-container",14),2&o){const e=t.oxw(2).row,i=t.oxw().$implicit;t.Q6J("ngComponentOutlet",e["_"+i.name].component)("ngComponentOutletInjector",e["_"+i.name].injector)}}function Le(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Ye,2,2,"ng-container",10),t.YNc(2,Qe,1,2,"ng-template",null,11,t.W1O),t.BQk()),2&o){const e=t.oxw().row,i=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null==e["_"+i.name]?null:e["_"+i.name].visible)}}function Se(o,n){if(1&o&&t.YNc(0,Le,4,1,"ng-container",9),2&o){const e=t.oxw().$implicit;t.Q6J("abpPermission",e.permission)("abpPermissionRunChangeDetection",!1)}}function Ze(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"ngx-datatable-column",8),t.ALo(2,"abpLocalization"),t.YNc(3,Se,1,2,"ng-template",4),t.qZA(),t.BQk()),2&o){const e=n.$implicit,i=n.index,r=t.oxw();t.xp6(1),t.Q6J("width",r.columnWidths[i+1]||200)("name",t.lcZ(2,4,e.displayName))("prop",e.name)("sortable",e.sortable)}}function Be(o,n){1&o&&t.GkF(0)}function Re(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Be,1,0,"ng-container",7),t.ALo(2,"createInjector"),t.BQk()),2&o){const e=n.ngIf,i=t.oxw(3).$implicit,r=t.oxw();t.xp6(1),t.Q6J("ngComponentOutlet",e)("ngComponentOutletInjector",t.Dn7(2,2,r.record,i,r))}}function Ge(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(3).$implicit,a=t.oxw();return t.KtG(r.action(a.data))}),t._UZ(1,"i",9),t._uU(2),t.ALo(3,"abpLocalization"),t.qZA()}if(2&o){const e=t.oxw(3).$implicit,i=t.oxw();t.Q6J("ngClass",e.btnClass?e.btnClass:i.defaultBtnClass),t.xp6(1),t.ekj("me-1",e.icon),t.Q6J("ngClass",e.icon),t.xp6(1),t.hij(" ",t.lcZ(3,5,e.text)," ")}}function je(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Re,3,6,"ng-container",5),t.YNc(2,Ge,4,7,"ng-template",null,6,t.W1O),t.BQk()),2&o){const e=t.MAs(3),i=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",i.component)("ngIfElse",e)}}function $e(o,n){if(1&o&&(t.ynx(0),t.YNc(1,je,4,2,"ng-container",4),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("abpPermission",e.permission)("abpPermissionRunChangeDetection",!1)}}function ze(o,n){if(1&o&&(t.TgZ(0,"div",2),t.YNc(1,$e,2,2,"ng-container",3),t.qZA()),2&o){const e=n.$implicit,i=n.last,r=t.oxw();t.ekj("pe-0",i),t.xp6(1),t.Q6J("ngIf",e.visible(r.data))}}let L=(()=>{class o{fromModel(e){if(!e)return null;const i=new Date(e);return isNaN(i)?null:(this.value={year:i.getFullYear(),month:i.getMonth()+1,day:i.getDate(),hour:i.getHours(),minute:i.getMinutes(),second:i.getSeconds()},this.value)}toModel(e){if(!e)return"";const i=new Date;e={year:i.getUTCFullYear(),month:i.getMonth()+1,day:i.getDate(),hour:0,minute:0,second:0,...this.value,...e};const r=new Date(e.year,e.month-1,e.day,e.hour,e.minute,e.second);return new Date(r).toISOString()}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})(),W=(()=>{class o extends g.DO{fromModel(e){if(!e)return null;let i;return i="string"==typeof e?this.dateOf(e):new Date(e),isNaN(i)?null:{day:i.getDate(),month:i.getMonth()+1,year:i.getFullYear()}}toModel(e){if(!e)return"";const i=new Date(e.year,e.month-1,e.day);return(0,d.p6)(i,"yyyy-MM-dd","en")}dateOf(e){const i=new Date(Date.parse(e));return new Date(i.getTime()+Math.abs(6e4*i.getTimezoneOffset()))}}return o.\u0275fac=function(){let n;return function(i){return(n||(n=t.n5z(o)))(i||o)}}(),o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})(),K=(()=>{class o extends g.Cw{fromModel(e){if(!e)return null;const i=function Ve(o){return/^((2[123])|[01][0-9])(\:[0-5][0-9]){1,2}$/.test(String(o))}(e)?new Date(0,0,1,...e.split(":").map(Number)):new Date(e);return isNaN(i)?null:{hour:i.getHours(),minute:i.getMinutes(),second:i.getSeconds()}}toModel(e){if(!e)return"";const i=new Date(0,0,1,e.hour,e.minute,e.second);return(0,d.p6)(i,"HH:mm","en")}}return o.\u0275fac=function(){let n;return function(i){return(n||(n=t.n5z(o)))(i||o)}}(),o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();class X extends D{}class q{get data(){return{getInjected:this.getInjected,index:this.index,record:this.record}}}class tt{constructor(n,e,i,r,a=(h=>!0),s=!1,l,m,c){this.type=n,this.name=e,this.displayName=i,this.permission=r,this.visible=a,this.isExtra=s,this.template=l,this.className=m,this.displayTextResolver=c,this.displayName=this.displayName||this.name}}class S{constructor(){this.contributorCallbacks={}}get(n){return this.contributorCallbacks[n]=this.contributorCallbacks[n]||[],new this._ctor(this.contributorCallbacks[n])}}class et{constructor(n){this.callbackList=n}get props(){const n=new this._ctor;return this.callbackList.forEach(e=>e(n)),n}addContributor(n){this.callbackList.push(n)}clearContributors(){for(;this.callbackList.length;)this.callbackList.pop()}}class nt extends X{}class ot extends et{constructor(){super(...arguments),this._ctor=nt}}class Ue{constructor(){this.items=[]}addItem(n){const e=n.group?.name;let i=this.items.find(r=>r.group?.name===e);i?i.formPropList.addTail(n):(i={formPropList:new nt,group:n.group},i.formPropList.addHead(n),this.items.push(i))}}class He extends S{constructor(){super(...arguments),this._ctor=ot}}class We extends S{constructor(){super(...arguments),this._ctor=ot}}class F extends tt{constructor(n){super(n.type,n.name,n.displayName,n.permission,n.visible,n.isExtra,n.template,n.className),this.group=n.group,this.className=n.className,this.asyncValidators=n.asyncValidators||(i=>[]),this.validators=n.validators||(i=>[]),this.disabled=n.disabled||(i=>!1),this.readonly=n.readonly||(i=>!1),this.autocomplete=n.autocomplete||"off",this.options=n.options,this.id=n.id||n.name;const e=n.defaultValue;this.defaultValue=function Xe(o){return[0,"",!1].indexOf(o)>-1}(e)?e:e||null,this.displayTextResolver=n.displayTextResolver}static create(n){return new F(n)}static createMany(n){return n.map(F.create)}}class Ke extends q{constructor(n,e){super(),this.record=e,this.getInjected=n.get.bind(n)}}function Z(o){return o}let qe=(()=>{class o{constructor(e){this.cdRef=e,this.meridian=!1}setDate(e){this.date.writeValue(e)}setTime(e){this.time.writeValue(e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["abp-date-time-picker"]],viewQuery:function(e,i){if(1&e&&(t.Gf(g.J4,5),t.Gf(g.Pm,5)),2&e){let r;t.iGM(r=t.CRH())&&(i.date=r.first),t.iGM(r=t.CRH())&&(i.time=r.first)}},inputs:{prop:"prop",meridian:"meridian"},exportAs:["abpDateTimePicker"],features:[t._Bn([],[{provide:p.gN,useFactory:Z,deps:[[new t.FiY,new t.tp0,p.gN]]},{provide:g.DO,useClass:L},{provide:g.Cw,useClass:L}])],decls:4,vars:4,consts:[["ngbDatepicker","","type","text",1,"form-control",3,"id","formControlName","ngModelChange","click","keyup.space"],["datepicker","ngbDatepicker"],[3,"formControlName","meridian","ngModelChange"],["timepicker",""]],template:function(e,i){if(1&e){const r=t.EpF();t.TgZ(0,"input",0,1),t.NdJ("ngModelChange",function(s){return i.setTime(s)})("click",function(){t.CHM(r);const s=t.MAs(1);return t.KtG(s.open())})("keyup.space",function(){t.CHM(r);const s=t.MAs(1);return t.KtG(s.open())}),t.qZA(),t.TgZ(2,"ngb-timepicker",2,3),t.NdJ("ngModelChange",function(s){return i.setDate(s)}),t.qZA()}2&e&&(t.Q6J("id",i.prop.id)("formControlName",i.prop.name),t.xp6(2),t.Q6J("formControlName",i.prop.name)("meridian",i.meridian))},dependencies:[p.Fj,p.JJ,p.u,C.J5,g.J4,g.Pm],encapsulation:2,changeDetection:0}),o})();const v=new t.OlP("EXTENSIONS_IDENTIFIER"),B=new t.OlP("EXTENSIONS_ACTION_TYPE"),tn=new t.OlP("EXTENSIONS_ACTION_DATA"),en=new t.OlP("EXTENSIONS_ACTION_DATA"),nn=new t.OlP("PROP_DATA_STREAM"),on=new t.OlP("ENTITY_PROP_TYPE_CLASSES",{factory:()=>({})}),it=new t.OlP("EXTENSIONS_FORM_PROP"),rn=new t.OlP("EXTENSIONS_FORM_PROP_DATA"),w="extraProperties",at=/_Text$/;function st(o){return o+"_Text"}let mn=(()=>{class o{constructor(e){this.ngControl=e,this.abpDisabled=!1}ngOnChanges({abpDisabled:e}){this.ngControl.control&&e&&this.ngControl.control[e.currentValue?"disable":"enable"]()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.a5,1))},o.\u0275dir=t.lG2({type:o,selectors:[["","abpDisabled",""]],inputs:{abpDisabled:"abpDisabled"},features:[t.TTD]}),o})(),ct=(()=>{class o{constructor(e,i,r,a,s){this.cdRef=e,this.track=i,this.configState=r,this.injector=s,this.asterisk="",this.containerClassName="mb-3 form-group",this.options$=(0,E.of)([]),this.validators=[],this.disabledFn=l=>!1,this.search=l=>l?l.pipe((0,Ft.b)(300),(0,vt.x)(),(0,V.w)(m=>this.prop.options(this.data,m))):(0,E.of)([]),this.typeaheadFormatter=l=>l.key,this.form=a.form}get disabled(){return this.disabledFn(this.data)}setTypeaheadValue(e){this.typeaheadModel=e||{key:null,value:null};const{key:i,value:r}=this.typeaheadModel,[a,s]=this.getTypeaheadControls();s?.value&&!r&&s.markAsDirty(),a?.setValue(i),s?.setValue(r)}get meridian(){return(this.configState.getDeep("localization.currentCulture.dateTimeFormat.shortTimePattern")||"").includes("tt")}get isInvalid(){const e=this.form.get(this.prop.name);return e.touched&&e.invalid}getTypeaheadControls(){const{name:e}=this.prop,i=`${w}.${e}`;return[this.form.get(st(i))||this.form.get(st(e)),this.form.get(i)||this.form.get(e)]}setAsterisk(){this.asterisk=this.validators.some(dn)?"*":""}ngAfterViewInit(){this.first&&this.fieldRef&&(this.fieldRef.nativeElement.focus(),this.cdRef.detectChanges())}getComponent(e){if(e.template)return"template";switch(e.type){case"boolean":return"checkbox";case"date":return"date";case"datetime":return"dateTime";case"hidden":return"hidden";case"multiselect":return"multiselect";case"text":return"textarea";case"time":return"time";case"typeahead":return"typeahead";default:return e.options?"select":"input"}}getType(e){switch(e.type){case"date":case"string":return"text";case"boolean":return"checkbox";case"number":return"number";case"email":return"email";case"password":return"password";default:return"hidden"}}ngOnChanges({prop:e,data:i}){const r=e?.currentValue,{options:a,readonly:s,disabled:l,validators:m,className:c,template:h}=r||{};h&&(this.injectorForCustomComponent=t.zs3.create({providers:[{provide:it,useValue:r},{provide:rn,useValue:i?.currentValue?.record},{provide:p.gN,useExisting:p.sg}],parent:this.injector})),a&&(this.options$=a(this.data)),s&&(this.readonly=s(this.data)),l&&(this.disabledFn=l),m&&(this.validators=m(this.data),this.setAsterisk()),void 0!==c&&(this.containerClassName=c);const[x,u]=this.getTypeaheadControls();x&&u&&(this.typeaheadModel={key:x.value,value:u.value})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.sBO),t.Y36(_.vR3),t.Y36(_.XJE),t.Y36(p.sg),t.Y36(t.zs3))},o.\u0275cmp=t.Xpm({type:o,selectors:[["abp-extensible-form-prop"]],viewQuery:function(e,i){if(1&e&&t.Gf(Nt,5),2&e){let r;t.iGM(r=t.CRH())&&(i.fieldRef=r.first)}},inputs:{data:"data",prop:"prop",first:"first"},features:[t._Bn([],[{provide:p.gN,useFactory:Z,deps:[[new t.FiY,new t.tp0,p.gN]]},{provide:g.DO,useClass:W},{provide:g.Cw,useClass:K}]),t.TTD],decls:3,vars:2,consts:[[3,"ngSwitch",4,"abpPermission","abpPermissionRunChangeDetection"],["label",""],[3,"ngSwitch"],["ngSwitchCase","template"],[1,"mb-3","form-group",3,"ngClass"],["ngSwitchCase","input"],["ngSwitchCase","hidden"],["ngSwitchCase","checkbox"],["ngSwitchCase","select"],["ngSwitchCase","multiselect"],["ngSwitchCase","typeahead"],["ngSwitchCase","date"],["ngSwitchCase","time"],["ngSwitchCase","dateTime"],["ngSwitchCase","textarea"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[3,"ngTemplateOutlet"],[1,"form-control",3,"id","formControlName","autocomplete","type","abpDisabled","readonly"],["field",""],["type","hidden",3,"formControlName"],["validationTarget","",1,"form-check"],["type","checkbox",1,"form-check-input",3,"id","formControlName","abpDisabled"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"form-select","form-control",3,"id","formControlName","abpDisabled"],[3,"ngValue",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngValue"],["multiple","multiple",1,"form-select","form-control",3,"id","formControlName","abpDisabled"],["validationStyle","","validationTarget","",1,"position-relative"],["typeahead",""],[1,"form-control",3,"id","autocomplete","abpDisabled","ngbTypeahead","editable","inputFormatter","resultFormatter","ngModelOptions","ngModel","ngModelChange","selectItem","blur"],["ngbDatepicker","","type","text",1,"form-control",3,"id","formControlName","click","keyup.space"],["datepicker","ngbDatepicker"],[3,"formControlName"],[3,"prop","meridian"],[1,"form-control",3,"id","formControlName","abpDisabled","readonly"],[3,"htmlFor","ngClass"],[4,"ngIf","ngIfElse"],["displayNameTemplate",""]],template:function(e,i){1&e&&(t.YNc(0,te,13,2,"ng-container",0),t.YNc(1,oe,5,5,"ng-template",null,1,t.W1O)),2&e&&t.Q6J("abpPermission",i.prop.permission)("abpPermissionRunChangeDetection",!1)},dependencies:[d.mk,d.$G,d.sg,d.O5,d.tP,d.RF,d.n9,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p.K7,p.JJ,p.On,p.u,_.l97,C.Wh,C.kG,C.J5,g.J4,g.Pm,g.dR,qe,mn,d.Ov,_.fuE],encapsulation:2,changeDetection:0}),o})();function dn(o){return o===p.kI.required||o===_.KFU.required||"required"===o.name}class lt extends D{}class pt{constructor(n,e=(r=>!0),i=(r=>{})){this.permission=n,this.visible=e,this.action=i}}class mt{constructor(){this.contributorCallbacks={}}get(n){return this.contributorCallbacks[n]=this.contributorCallbacks[n]||[],new this._ctor(this.contributorCallbacks[n])}}class dt{constructor(n){this.callbackList=n}get actions(){const n=new this._ctor;return this.callbackList.forEach(e=>e(n)),n}addContributor(n){this.callbackList.push(n)}clearContributors(){for(;this.callbackList.length;)this.callbackList.pop()}}class un extends lt{}class gn extends dt{constructor(){super(...arguments),this._ctor=un}}class fn extends mt{constructor(){super(...arguments),this._ctor=gn}}class k extends pt{constructor(n){super(n.permission,n.visible,n.action),this.text=n.text,this.icon=n.icon||""}static create(n){return new k(n)}static createMany(n){return n.map(k.create)}}class hn extends X{}class xn extends et{constructor(){super(...arguments),this._ctor=hn}}class bn extends S{constructor(){super(...arguments),this._ctor=xn}}class P extends tt{constructor(n){super(n.type,n.name,n.displayName,n.permission,n.visible,n.isExtra),this.columnWidth=n.columnWidth,this.sortable=n.sortable||!1,this.valueResolver=n.valueResolver||(e=>(0,E.of)((0,_.F04)(e.record[this.name]))),this.action=n.action,this.component=n.component,this.enumList=n.enumList}static create(n){return new P(n)}static createMany(n){return n.map(P.create)}}class Tn extends lt{}class yn extends dt{constructor(){super(...arguments),this._ctor=Tn}}class Cn extends mt{constructor(){super(...arguments),this._ctor=yn}}class I extends pt{constructor(n){super(n.permission||"",n.visible,n.action),this.text=n.text,this.icon=n.icon||"",n.btnClass&&(this.btnClass=n.btnClass)}static create(n){return new I(n)}static createMany(n){return n.map(I.create)}}let N=(()=>{class o{constructor(){this.entityActions=new fn,this.toolbarActions=new Cn,this.entityProps=new bn,this.createFormProps=new He,this.editFormProps=new We}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),En=(()=>{class o extends q{constructor(e,i,r){super(),this.tempRef=e,this.vcRef=i,this.getInjected=r.get.bind(r)}ngOnChanges(){this.vcRef.clear(),this.vcRef.createEmbeddedView(this.tempRef,{$implicit:this.data,index:0})}ngOnDestroy(){this.vcRef.clear()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.Rgc),t.Y36(t.s_b),t.Y36(t.zs3))},o.\u0275dir=t.lG2({type:o,selectors:[["","abpPropData",""]],inputs:{propList:["abpPropDataFromList","propList"],record:["abpPropDataWithRecord","record"],index:["abpPropDataAtIndex","index"]},exportAs:["abpPropData"],features:[t.qOj,t.TTD]}),o})(),wn=(()=>{class o{constructor(e,i,r,a,s){this.cdRef=e,this.track=i,this.container=r,this.extensions=a,this.identifier=s,this.extraPropertiesKey=w}set selectedRecord(e){const i=e&&"{}"!==JSON.stringify(e)?"edit":"create",r=this.extensions[`${i}FormProps`].get(this.identifier).props;this.groupedPropList=this.createGroupedList(r),this.record=e}createGroupedList(e){const i=new Ue;return e.forEach(r=>{i.addItem(r.value)}),i}get form(){return this.container?this.container.control:{controls:{}}}get extraProperties(){return this.form.controls.extraProperties||{controls:{}}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.sBO),t.Y36(_.vR3),t.Y36(p.gN),t.Y36(N),t.Y36(v))},o.\u0275cmp=t.Xpm({type:o,selectors:[["abp-extensible-form"]],viewQuery:function(e,i){if(1&e&&t.Gf(ct,5),2&e){let r;t.iGM(r=t.CRH())&&(i.formProps=r)}},inputs:{selectedRecord:"selectedRecord"},exportAs:["abpExtensibleForm"],features:[t._Bn([],[{provide:p.gN,useFactory:Z,deps:[[new t.FiY,new t.tp0,p.gN]]}])],decls:3,vars:1,consts:[[4,"ngIf"],["propListTemplate",""],[4,"ngFor","ngForOf"],[4,"abpPropData","abpPropDataFromList","abpPropDataWithRecord"],[3,"class",4,"ngIf","ngIfElse"],["withoutClassName",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"formGroupName",4,"ngIf","ngIfElse"],["tempDefault",""],[3,"formGroupName"],[3,"prop","data"],[3,"class","prop","data","first",4,"ngIf"],[3,"prop","data","first"]],template:function(e,i){1&e&&(t.YNc(0,ce,2,1,"ng-container",0),t.YNc(1,ue,1,2,"ng-template",null,1,t.W1O)),2&e&&t.Q6J("ngIf",i.form)},dependencies:[d.sg,d.O5,d.tP,p.JL,p.x0,C.hL,ct,En],encapsulation:2,changeDetection:0}),o})(),_t=(()=>{class o extends class _n{get data(){return{getInjected:this.getInjected,index:this.index,record:this.record}}}{constructor(e){super(),this.getInjected=e.get.bind(e);const i=e.get(N),r=e.get(v),a=e.get(B);this.actionList=i[a].get(r).actions}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.zs3))},o.\u0275dir=t.lG2({type:o,inputs:{record:"record"},features:[t.qOj]}),o})(),Fn=(()=>{class o extends _t{constructor(e){super(e),this.icon="fa fa-cog",this.text="",this.trackByFn=(i,r)=>r.text}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.zs3))},o.\u0275cmp=t.Xpm({type:o,selectors:[["abp-grid-actions"]],inputs:{icon:"icon",index:"index",text:"text"},exportAs:["abpGridActions"],features:[t._Bn([{provide:B,useValue:"entityActions"}]),t.qOj],decls:8,vars:2,consts:[["ngbDropdown","","container","body","class","d-inline-block",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["dropDownBtnItemTmp",""],["buttonContentTmp",""],["btnTmp",""],["ngbDropdown","","container","body",1,"d-inline-block"],["data-toggle","dropdown","aria-haspopup","true","ngbDropdownToggle","",1,"btn","btn-primary","btn-sm","dropdown-toggle"],[3,"ngClass"],["ngbDropdownMenu",""],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],["ngbDropdownItem","","type","button",3,"click",4,"abpPermission","abpPermissionRunChangeDetection"],["ngbDropdownItem","","type","button",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf","ngIfElse"],["ellipsis",""],["abpEllipsis",""],["type","button","class","btn btn-primary text-center",3,"click",4,"abpPermission","abpPermissionRunChangeDetection"],["type","button",1,"btn","btn-primary","text-center",3,"click"]],template:function(e,i){1&e&&(t.YNc(0,fe,7,8,"div",0),t.YNc(1,he,1,4,"ng-container",1),t.YNc(2,ye,1,1,"ng-template",null,2,t.W1O),t.YNc(4,we,4,5,"ng-template",null,3,t.W1O),t.YNc(6,Ne,1,1,"ng-template",null,4,t.W1O)),2&e&&(t.Q6J("ngIf",i.actionList.length>1),t.xp6(1),t.Q6J("ngIf",1===i.actionList.length))},dependencies:[d.mk,d.sg,d.O5,d.tP,_.l97,M.NF,g.jt,g.iD,g.Vi,g.TH,_.fuE],encapsulation:2,changeDetection:0}),o})(),Pn=(()=>{class o{constructor(e,i,r){this.locale=e,this.config=i,this.injector=r,this.trackByFn=(m,c)=>c.name,this.entityPropTypeClasses=r.get(on),this.getInjected=r.get.bind(r);const a=r.get(N),s=r.get(v);this.propList=a.entityProps.get(s).props,this.actionList=a.entityActions.get(s).actions;const l=r.get(_.$AH);this.hasAtLeastOnePermittedAction=l.filterItemsByPolicy(this.actionList.toArray().map(m=>({requiredPolicy:m.permission}))).length>0,this.setColumnWidths(150)}set actionsText(e){this._actionsText=e}get actionsText(){return this._actionsText??(this.actionList.length>1?"AbpUi::Actions":"")}set actionsColumnWidth(e){this.setColumnWidths(e?Number(e):void 0)}setColumnWidths(e){const i=[e];this.propList.forEach(({value:r})=>{i.push(r.columnWidth)}),this.columnWidths=i}getDate(e,i){return e?(0,d.p6)(e,i,this.locale):""}getIcon(e){return e?'<div class="text-success"><i class="fa fa-check"></i></div>':'<div class="text-danger"><i class="fa fa-times"></i></div>'}getEnum(e,i){if(!i)return e;const{key:r}=i.find(({value:a})=>a===e);return r}getContent(e,i){return e.valueResolver(i).pipe((0,y.U)(r=>{switch(e.type){case"boolean":return this.getIcon(r);case"date":return this.getDate(r,(0,_.kZ)(this.config));case"time":return this.getDate(r,(0,_.TK_)(this.config));case"datetime":return this.getDate(r,(0,_.sN5)(this.config));case"enum":return this.getEnum(r,e.enumList);default:return r}}))}ngOnChanges({data:e}){!e?.currentValue||(this.data=e.currentValue.map((i,r)=>(this.propList.forEach(a=>{const s={getInjected:this.getInjected,record:i,index:r},l=this.getContent(a.value,s),m=`_${a.value.name}`;if(i[m]={visible:a.value.visible(s),value:l},a.value.component){const c=t.zs3.create({providers:[{provide:nn,useValue:l}],parent:this.injector});i[m].injector=c,i[m].component=a.value.component}}),i)))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.soG),t.Y36(_.XJE),t.Y36(t.zs3))},o.\u0275cmp=t.Xpm({type:o,selectors:[["abp-extensible-table"]],inputs:{actionsText:"actionsText",data:"data",list:"list",recordsTotal:"recordsTotal",actionsColumnWidth:"actionsColumnWidth",actionsTemplate:"actionsTemplate"},exportAs:["abpExtensibleTable"],features:[t.TTD],decls:3,vars:6,consts:[["default","",3,"rows","count","list"],[3,"name","maxWidth","width","sortable",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"name","maxWidth","width","sortable"],["ngx-datatable-cell-template",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["gridActions",""],["text","AbpUi::Actions",3,"index","record"],[3,"width","name","prop","sortable"],[4,"abpPermission","abpPermissionRunChangeDetection"],[4,"ngIf"],["component",""],[3,"innerHTML","ngClass","pointer","click",4,"ngIf","ngIfElse"],[3,"innerHTML","ngClass","click"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(e,i){1&e&&(t.TgZ(0,"ngx-datatable",0),t.YNc(1,ke,3,6,"ngx-datatable-column",1),t.YNc(2,Ze,4,6,"ng-container",2),t.qZA()),2&e&&(t.Q6J("rows",i.data)("count",i.recordsTotal)("list",i.list),t.xp6(1),t.Q6J("ngIf",i.actionsTemplate||i.actionList.length&&i.hasAtLeastOnePermittedAction),t.xp6(1),t.Q6J("ngForOf",i.propList)("ngForTrackBy",i.trackByFn))},dependencies:[d.mk,d.$G,d.sg,d.O5,d.tP,_.l97,Q.nE,Q.UC,Q.vq,M.x7,M.j3,Fn,d.Ov,_.fuE],encapsulation:2,changeDetection:0}),o})(),Nn=(()=>{class o{transform(e,i,r){return{get:(s,l,m)=>{const c=r.getData(),h=u=>(u=u??r.getData(),i.action(u));let x;switch(s){case tn:x=c;break;case en:x=h;break;default:x=r.getInjected.call(r.injector,s,l,m)}return x}}}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275pipe=t.Yjl({name:"createInjector",type:o,pure:!0}),o})(),An=(()=>{class o extends _t{constructor(e){super(e),this.injector=e,this.defaultBtnClass="btn btn-sm btn-primary",this.getData=()=>this.data,this.trackByFn=(i,r)=>r.action||r.component}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.zs3))},o.\u0275cmp=t.Xpm({type:o,selectors:[["abp-page-toolbar"]],exportAs:["abpPageToolbar"],features:[t._Bn([{provide:B,useValue:"toolbarActions"}]),t.qOj],decls:2,vars:2,consts:[["id","AbpContentToolbar",1,"row","justify-content-end","mx-0"],["class","col-auto px-1 pt-0 pt-md-2",3,"pe-0",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-auto","px-1","pt-0","pt-md-2"],[4,"ngIf"],[4,"abpPermission","abpPermissionRunChangeDetection"],[4,"ngIf","ngIfElse"],["button",""],[4,"ngComponentOutlet","ngComponentOutletInjector"],["type","button",3,"ngClass","click"],[3,"ngClass"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,ze,2,3,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",i.actionList)("ngForTrackBy",i.trackByFn))},dependencies:[d.mk,d.$G,d.sg,d.O5,_.l97,_.fuE,Nn],encapsulation:2,changeDetection:0}),o})();const Dn={provide:p.gN,useExisting:p.sg};let ut=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[_.IR2,M.e2,C.h2,g.M,g.XC,g.UL,g.ZS]}),o})(),Mn=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[ut,ut]}),o})();function On(o,n,...e){Object.keys(n).forEach(i=>{const r=o.get(i);r.clearContributors(),r.addContributor(a=>a.addManyTail(n[i])),e.forEach(a=>(a[i]||[]).forEach(s=>r.addContributor(s)))})}function kn(o){const n=o.getInjected(N),e=o.getInjected(v),i=new p.nJ({}),r=new p.nJ({});i.addControl(w,r);const a=o.record||{},l=n[("{}"===JSON.stringify(a)?"create":"edit")+"FormProps"].get(e).props,m=a[w]||{};return l.forEach(({value:c})=>{const h=c.name,x=c.isExtra||h in m;let u=x?m[h]:h in a?a[h]:void 0;if(typeof u>"u"&&(u=c.defaultValue),u){let b;switch(c.type){case"date":b=new W,u=b.toModel(b.fromModel(u));break;case"time":b=new K,u=b.toModel(b.fromModel(u));break;case"datetime":b=new L,u=b.toModel(b.fromModel(u))}}const xt=new p.p4(u,{asyncValidators:c.asyncValidators(o),validators:c.validators(o)});(x?r:i).addControl(h,xt)}),i}function Yn(o,n,...e){Object.keys(n).forEach(i=>{const r=o.get(i);r.clearContributors(),r.addContributor(a=>a.addManyTail(n[i])),e.forEach(a=>(a[i]||[]).forEach(s=>r.addContributor(s)))})}function Jn(o){const n={};return o.forEach(({name:e="",value:i})=>{n[n[e]=i]=e}),n}function gt(o,n){return(0,Ct.T)((0,E.of)(null),o.languageChange$).pipe((0,y.U)(()=>n))}function ft(o,n,e){const i=e.localizationResource,r=function Sn(o){return o.split(".").pop()}(n);return a=>o.localizeWithFallbackSync([i||""],["Enum:"+r+"."+a,r+"."+a,a],a)}function ht(o){return o.getOne$("objectExtensions")}function jn(o,n){return ht(o).pipe((0,y.U)(e=>e?(e.modules[n]||{}).entities:null),(0,y.U)(e=>function Un(o){return typeof o>"u"}(e)?{}:e),(0,Pt.h)(Boolean),(0,U.q)(1))}function $n(o,n){return(0,Et.z)((0,V.w)(e=>(0,wt.$)(function Rn(o){return o.getOne$("localization")}(o),function Gn(o){return ht(o).pipe((0,y.U)(n=>Object.keys(n.enums).reduce((e,i)=>{const{fields:r,localizationResource:a}=n.enums[i];return e[i]={fields:r,localizationResource:a,transformed:Jn(r)},e},{})))}(o)).pipe((0,y.U)(([i,r])=>{const a=function Zn(o){const n=(0,_.ojK)(o);return(e,i)=>e&&e.name?n([e.resource||""],[e.name],e.name):n([i.resource||""],["DisplayName:"+i.name],void 0)||n([i.resource||""],[i.name||""],i.name)}(i);return Object.keys(e).reduce((s,l)=>{s.prop[l]=[],s.createForm[l]=[],s.editForm[l]=[];const m=e[l];if(!m)return s;const c=m.properties;return c?function zn(o,n,e){return(i,r,a)=>{const l=function cn(o,n){return(e,i)=>{const r=function pn(o){return o.replace(at,"")}(i.name||"");return o(e||n[r].displayName,{name:r,resource:i.resource})}}(o,i);return Object.keys(i).forEach(m=>{const c=i[m],h=m,x=c.ui.lookup||{},u=function sn(o,n){return Boolean(o.url)?"typeahead":n.endsWith("_Text")?"hidden":void 0}(x,m)||function Vn(o){return o?.typeSimple?.replace(/\?$/,"")}(c),b=(function ln(o){return at.test(o)}(m)?l:o)(c.displayName,{name:m,resource:n});if(c.ui.onTable.isVisible){const G=Boolean(c.ui.onTable.isSortable),j="boolean"===u?150:250,A="enum"===u?function Qn(o,n,e){return i=>{const a=n.transformed[i.record[w][e]],s=i.getInjected(_.oQ8);return gt(s,ft(s,o,n)(a))}}(c.type,e[c.type],h):function In(o){return n=>(0,E.of)(n.record[w][o])}(h),$=new P({type:u,name:h,displayName:b,sortable:G,columnWidth:j,valueResolver:A,isExtra:!0});r.prop[a].push(z=>z.addTail($))}const bt=c.ui.onCreateForm.isVisible,Tt=c.ui.onEditForm.isVisible;if(bt||Tt){const G=c.defaultValue,j=()=>function Bn(o){const n=[];return o.attributes.forEach(e=>{e.typeSimple&&e.typeSimple in _.KFU&&n.push(_.KFU[e.typeSimple](e.config))}),n}(c);let A;"enum"===u?A=function Ln(o,n){return e=>{const i=e.getInjected(_.oQ8),r=ft(i,o,n);return gt(i,n.fields.map(({name:a="",value:s})=>({key:r(a),value:s})))}}(h,e[c.type||""]):"typeahead"===u&&(A=function an(o){return(n,e)=>e&&n?n.getInjected(_.vgb).request({method:"GET",url:o.url||"",params:{[o.filterParamName||""]:e}},{apiName:"Default"}).pipe((0,y.U)(i=>i[o.resultListPropertyName||""].map(s=>({key:s[o.displayPropertyName||""],value:s[o.valuePropertyName||""]})))):(0,E.of)([])}(x));const $=new F({type:u,name:h,displayName:b,options:A,defaultValue:G,validators:j,isExtra:!0}),Y=z=>z.addTail($);bt&&r.createForm[a].push(Y),Tt&&r.editForm[a].push(Y)}}),r}}(a,n,r)(c,s,l):s},{prop:{},createForm:{},editForm:{}})}))),(0,U.q)(1))}}}]);